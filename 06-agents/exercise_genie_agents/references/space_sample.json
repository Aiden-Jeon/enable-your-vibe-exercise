{
  "space_id": "01f107bb869a110eb39572f456fa950b",
  "title": "Fashion Recommendations Analytics 2 (2)",
  "description": "A natural language analytics space for exploring fashion sales transactions and customer profiles.",
  "warehouse_id": "0024da9c9e9a4dc2",
  "owner_user_id": null,
  "created_timestamp": null,
  "updated_timestamp": null,
  "serialized_space": "{\n  \"version\": 2,\n  \"config\": {\n    \"sample_questions\": [\n      {\n        \"id\": \"c26b9eebd2cf48a5b27eceb90c976082\",\n        \"question\": [\n          \"How does revenue compare between online and in-store sales by month?\"\n        ]\n      },\n      {\n        \"id\": \"c08d82b1293241649eb0f487a55bc806\",\n        \"question\": [\n          \"Who are the top spending customers and what is their membership status?\"\n        ]\n      },\n      {\n        \"id\": \"bedfd2c329424e2f8c18f7a4794acacf\",\n        \"question\": [\n          \"How many transactions did each age group make?\"\n        ]\n      },\n      {\n        \"id\": \"ad4426faec0d4b8f83acadea920e040d\",\n        \"question\": [\n          \"What is the total online revenue for 2020?\"\n        ]\n      },\n      {\n        \"id\": \"06e8ce9cffaf4ccab1b69e837fa25e1a\",\n        \"question\": [\n          \"What are the monthly sales trends?\"\n        ]\n      }\n    ]\n  },\n  \"data_sources\": {\n    \"tables\": [\n      {\n        \"identifier\": \"shared.fashion_recommendations.customers\"\n      },\n      {\n        \"identifier\": \"shared.fashion_recommendations.transactions\"\n      }\n    ]\n  },\n  \"instructions\": {\n    \"text_instructions\": [\n      {\n        \"id\": \"77098874d86746cb89681bd55ac1f348\",\n        \"content\": [\n          \"## Column Naming Conventions\\n\",\n          \"- The transaction date column is `t_dat` in the `transactions` table, not `date` or `transaction_date`.\\n\",\n          \"- Customer identifier is `customer_id` in both `transactions` and `customers` tables.\\n\",\n          \"- The `price` column in `transactions` represents per-unit price \u2014 each row is one unit sold.## Date and Time Handling\\n\",\n          \"- Use `t_dat` for date filtering in the `transactions` table (format: DATE).\\n\",\n          \"- The `transactions` table has pre-extracted `year` and `month` integer columns \u2014 prefer these for year/month grouping over YEAR() and MONTH() functions.\\n\",\n          \"- When users say 'last month' or 'this year', use CURRENT_DATE and DATE_SUB/DATE_TRUNC functions on `t_dat`.## Sales Channel Mapping\\n\",\n          \"- `sales_channel_id = 1` means **Online** sales.\\n\",\n          \"- `sales_channel_id = 2` means **In-Store** (offline) sales.\\n\",\n          \"- When users ask about 'online sales' or 'store sales', filter on `sales_channel_id` accordingly.## Customer Segmentation\\n\",\n          \"- `club_member_status` in the `customers` table indicates membership tier (ACTIVE, PRE-CREATE, LEFT CLUB, etc.).\\n\",\n          \"- `fashion_news_frequency` indicates news subscription (Regularly, Monthly, None).\\n\",\n          \"- Use `customers.age` for age-based segmentation.\"\n        ]\n      }\n    ],\n    \"example_question_sqls\": [\n      {\n        \"id\": \"0ace8c89320e4175bb4bed5aa421765a\",\n        \"question\": [\n          \"How does revenue compare between online and in-store sales by month?\"\n        ],\n        \"sql\": [\n          \"SELECT year, month, CASE WHEN sales_channel_id = 1 THEN 'Online' ELSE 'In-Store' END AS sales_channel, COUNT(*) AS num_transactions, CAST(SUM(price) AS DECIMAL(38,2)) AS total_revenue FROM shared.fashion_recommendations.transactions GROUP BY year, month, sales_channel_id ORDER BY year, month, sales_channel_id\"\n        ]\n      },\n      {\n        \"id\": \"6bee6f51ea6d48998d6fcb18ab8f944c\",\n        \"question\": [\n          \"Who are the top spending customers and what is their membership status?\"\n        ],\n        \"sql\": [\n          \"SELECT t.customer_id, c.club_member_status, c.age, COUNT(*) AS num_purchases, CAST(SUM(t.price) AS DECIMAL(38,2)) AS total_spent FROM shared.fashion_recommendations.transactions t INNER JOIN shared.fashion_recommendations.customers c ON t.customer_id = c.customer_id GROUP BY t.customer_id, c.club_member_status, c.age ORDER BY total_spent DESC LIMIT 20\"\n        ]\n      },\n      {\n        \"id\": \"cf28144b3b6041c29d2558dc1ff9a07f\",\n        \"question\": [\n          \"What are the monthly sales trends?\"\n        ],\n        \"sql\": [\n          \"SELECT year, month, COUNT(*) AS num_transactions, CAST(SUM(price) AS DECIMAL(38,2)) AS total_revenue, COUNT(DISTINCT customer_id) AS unique_customers FROM shared.fashion_recommendations.transactions GROUP BY year, month ORDER BY year, month\"\n        ]\n      }\n    ],\n    \"join_specs\": [\n      {\n        \"id\": \"01f107bbba361f89bf4ebfad9f5d4e2a\",\n        \"left\": {\n          \"identifier\": \"shared.fashion_recommendations.customers\",\n          \"alias\": \"customers\"\n        },\n        \"right\": {\n          \"identifier\": \"shared.fashion_recommendations.transactions\",\n          \"alias\": \"transactions\"\n        },\n        \"sql\": [\n          \"`customers`.`customer_id` = `transactions`.`customer_id`\",\n          \"--rt=FROM_RELATIONSHIP_TYPE_ONE_TO_MANY--\"\n        ],\n        \"instruction\": [\n          \"customer's buy logs\"\n        ]\n      }\n    ],\n    \"sql_snippets\": {\n      \"filters\": [\n        {\n          \"id\": \"2f1465644b78438eb553e63d492925a4\",\n          \"sql\": [\n            \"customers.club_member_status = 'ACTIVE'\"\n          ],\n          \"display_name\": \"Active Club Members\",\n          \"synonyms\": [\n            \"active members\",\n            \"club members\",\n            \"active customers\"\n          ]\n        },\n        {\n          \"id\": \"388aab8ceba24fc1b55c43030ac15ae9\",\n          \"sql\": [\n            \"transactions.sales_channel_id = 1\"\n          ],\n          \"display_name\": \"Online Sales Only\",\n          \"synonyms\": [\n            \"online\",\n            \"web sales\",\n            \"e-commerce\"\n          ]\n        },\n        {\n          \"id\": \"40e9ed9adfa74fafa645628067a2b28d\",\n          \"sql\": [\n            \"transactions.sales_channel_id = 2\"\n          ],\n          \"display_name\": \"In-Store Sales Only\",\n          \"synonyms\": [\n            \"in-store\",\n            \"offline\",\n            \"store sales\",\n            \"brick and mortar\"\n          ]\n        },\n        {\n          \"id\": \"a25d41c5fc1d4f97a42b4200d455e1c8\",\n          \"sql\": [\n            \"transactions.t_dat >= DATE_SUB(CURRENT_DATE(), 365)\"\n          ],\n          \"display_name\": \"Last 12 Months\",\n          \"synonyms\": [\n            \"last year\",\n            \"past year\",\n            \"recent year\"\n          ]\n        },\n        {\n          \"id\": \"ee87a648210046f990c39e39673062fc\",\n          \"sql\": [\n            \"transactions.t_dat >= DATE_SUB(CURRENT_DATE(), 30)\"\n          ],\n          \"display_name\": \"Last 30 Days\",\n          \"synonyms\": [\n            \"last month\",\n            \"recent\",\n            \"past month\"\n          ]\n        }\n      ],\n      \"expressions\": [\n        {\n          \"id\": \"0e596fe1f4064727b633d732e793a02d\",\n          \"alias\": \"transaction_year\",\n          \"sql\": [\n            \"transactions.year\"\n          ],\n          \"display_name\": \"Transaction Year\",\n          \"synonyms\": [\n            \"year\",\n            \"sale year\"\n          ]\n        },\n        {\n          \"id\": \"825ae1f1eb424a47a228280caa0f00dd\",\n          \"alias\": \"transaction_month\",\n          \"sql\": [\n            \"transactions.month\"\n          ],\n          \"display_name\": \"Transaction Month\",\n          \"synonyms\": [\n            \"month\",\n            \"sale month\"\n          ]\n        },\n        {\n          \"id\": \"cf99929658e14e72a92746cc2e44719e\",\n          \"alias\": \"sales_channel_name\",\n          \"sql\": [\n            \"CASE WHEN transactions.sales_channel_id = 1 THEN 'Online' ELSE 'In-Store' END\"\n          ],\n          \"display_name\": \"Sales Channel Name\",\n          \"synonyms\": [\n            \"channel\",\n            \"sales channel\"\n          ]\n        }\n      ],\n      \"measures\": [\n        {\n          \"id\": \"299801399db74b23a00e911a607e9f2f\",\n          \"alias\": \"avg_price\",\n          \"sql\": [\n            \"CAST(AVG(transactions.price) AS DECIMAL(38,2))\"\n          ],\n          \"display_name\": \"Average Price\",\n          \"synonyms\": [\n            \"avg price\",\n            \"mean price\",\n            \"average transaction value\"\n          ]\n        },\n        {\n          \"id\": \"4ad78bdefd264605b437b3d731bbfbee\",\n          \"alias\": \"transaction_count\",\n          \"sql\": [\n            \"COUNT(*)\"\n          ],\n          \"display_name\": \"Transaction Count\",\n          \"synonyms\": [\n            \"number of transactions\",\n            \"sales count\",\n            \"purchase count\"\n          ]\n        },\n        {\n          \"id\": \"b760eea3e2754d86b799e8585cebbc04\",\n          \"alias\": \"total_revenue\",\n          \"sql\": [\n            \"CAST(SUM(transactions.price) AS DECIMAL(38,2))\"\n          ],\n          \"display_name\": \"Total Revenue\",\n          \"synonyms\": [\n            \"revenue\",\n            \"total sales\",\n            \"sales amount\"\n          ]\n        },\n        {\n          \"id\": \"f6d10357729f49999e5a5ae44ea5f9ec\",\n          \"alias\": \"unique_customer_count\",\n          \"sql\": [\n            \"COUNT(DISTINCT transactions.customer_id)\"\n          ],\n          \"display_name\": \"Unique Customers\",\n          \"synonyms\": [\n            \"customer count\",\n            \"distinct customers\",\n            \"number of customers\"\n          ]\n        }\n      ]\n    }\n  }\n}\n"
}